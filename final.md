# 毕业总结

作为公司一个使用docker/CI/k8s多年的用户，一直想深入学习一下这些平台的原理。有一次看到公司的一个项目，需要用Istio Service Mesh，就跟着了解一下，发现它需要先学习k8s，然后又开始了k8s的自己搭建和学习。刚好极客时间有个云原生训练营，就来加入学习。

已经有了多年的SRE+DEV=DEVOPS经验，对于操作系统/网络/Go编程的学习是有较多基础的，缺乏的是对于k8s的整体使用把握。

在这次训练营的学习中，主要关注的是如何去使用k8s对现有服务进行编排和运维，很多东西都是知道的，但是怎么用起来，而这里面需要记住的东西有很多，深感yaml工程师脑容量需求之大。光是k8s的安装就有好多种方式，kubeadmin/kind/minikube/kubespray等，最后用kubespray来部署了一套日常学习使用的。

部署过程中踩到了一个iptables/ipvs的坑，在kubespray中使用的是ipvs，自定义ingress externalIP时，指定为本机IP时就发生网络卡死的情况，后来了解到是ipvs的问题，如果iptables就不会出现。不过到现在也不知道怎么解决，使用中还要重新开个nginx进行tcp转发来使用这个IP。

觉得最复杂的使用是CI/CD，比如Tekton/Argo等，配置上很麻烦，没有足够的时间去研究，现在仍是只会用别人部署好的。

所以我的重点还是放在集群部署和管理上，比如用Istio管理起集群流量，这在我的工作中也是个比较主要的方面。其实这也回到了之前想学习云原生的初衷，使用服务网格来管理服务。不过在后半段花的时间比较少，还没完成工作中的应用。

现在又想要回归基础，重新拿起《自己动手写Docker》，重新把它学透一点，以前的各种系统和网络基础应用得比较少，是时候好好回顾了。

我不是卷王，我只是一个懒人。。。

